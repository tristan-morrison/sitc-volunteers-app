  <form name="paymentForm">
    <md-card ng-show="showDefaultPaymentError" class="md-warn">
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">Something went wrong with your payment.</span>
          <span class="md-subhead">We're not sure what went wrong. Please try again, or pay with cash or check on your first day.</span>
        </md-card-title-text>
      </md-card-title>
    </md-card>
    <md-card>
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">Payment</span>
          <span class="md-subhead" style="display:block">There is a one-time $40 registration fee to participate with Summer In The City. We spend approximately <span style="text-decoration: underline; font-weight: bold">$20 per volunteer per day</span> on project materials, transportation, and food among other things to provide the Summer in the City experience. We rely on your registration fee to help offset some of these costs.
          <br />
          If you are unable to pay, we are happy to waive the fee. We want Summer in the City to be accessible to anyone and everyone.</span>
        </md-card-title-text>
      </md-card-title>

        <div class="payment-group-container" style="display:block">
          <md-input-container> <!-- for some reason, this was displaying on the last line of the p text -->
            <h4>Payment Method</h4>
            <md-radio-group class="md-primary" name="paymentMethod" ng-model="regInfo.paymentMethod" ng-change="hideError('#paymentMethod')" ng-required="true">
              <div class="row">
                <div flex layout='column' layout-padding layout-align="start start" >
                  <md-radio-button ng-value="payMethodValues[1]" aria-label="Credit/Debit" ng-disabled="stripeNotLoaded">I will pay my registration fee (and consider donating) by credit card.</md-radio-button>
                  <div id="noStripeWarning" ng-show="stripeNotLoaded">
                      Connect to the internet to pay via credit card. If you are already connected, check your connection.
                  </div>
                </div>
              </div>
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="payMethodValues[0]" aria-label="Cash/Check">I will pay by check or cash (and consider donating) my first day.</md-radio-button>
                </div>
              </div>
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="payMethodValues[4]" aria-label="Waive Fee">I am unable to pay. Please waive my fee.</md-radio-button>
                </div>
              </div>
            </md-radio-group>
            <div id="paymentMethodError" style="display:none" class="custom-error-message">
              This field is required.
            </div>
          </md-input-container>
        </div>
        <div class="payment-group-container" ng-show="regInfo.paymentMethod == 'credit' || regInfo.paymentMethod === 'credit_donation_default_amt' || regInfo.paymentMethod === 'credit_donation_custom_amt'">
          <md-input-container>
            <h4>Amount</h4>
            <md-radio-group class="md-primary" ng-model="creditOption" ng-change="hideError('#amountError')">
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="payMethodValues[1]" aria-label="$40">$40 - just the registration fee</md-radio-button>
                </div>
              </div>
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="payMethodValues[2]" aria-label="$80">$80 - $40, plus a $40 tax-deductible donation</md-radio-button>
                </div>
              </div>
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="payMethodValues[3]" aria-label="$80" style="padding-right:0">$40 for registration + a donation of $
                  </md-radio-button>
                  <div style="padding:0"><input type="number" ng-model="custom_donation_amt" style="width:60px"/></div>
                  <div style="font-weight: 500; padding-top: 0; padding-bottom: 0">= ${{ 40 + custom_donation_amt }}</div>
                </div>
              </div>
            </md-radio-group>
          </md-input-container>
          <div id="amountError" style="display:none" class="custom-error-message">
            This field is required.
          </div>
        </div>
        <div class="payment-group-container" ng-show="regInfo.paymentMethod == 'credit' || regInfo.paymentMethod === 'credit_donation_default_amt' || regInfo.paymentMethod === 'credit_donation_custom_amt'">
          <md-input-container id="paymentInfoContainer">
            <h4 style="margin-bottom:0">Payment Info</h4>
            <md-button class="md-raised" id="paymentInfoButton" ng-class="{'md-accent': regInfo.myPaymentToken == NULL, 'black-primary-text-opacity': regInfo.myPaymentToken == NULL}" ng-click="generateCheckout()" style="margin-left:0">
              <md-icon>{{regInfo.myPaymentToken==NULL ? "add" : "edit"}}</md-icon>
              <span> {{regInfo.myPaymentToken==NULL ? "Add Card" : "Edit Card"}}</span>
            </md-button>
            <input ng-hide="true" name="paymentInfo" ng-model="paymentInfo"  type="text" />
            <div ng-messages="paymentForm.paymentInfo.$error">
              <div ng-message="invalidNumber">
                Your card number is invalid.
              </div>
              <div ng-message="noToken">
                No payment info was saved. Please try again.
              </div>
            </div>
          </md-input-container>
        </div>
      </md-card>
      <md-card style="margin-bottom:0;">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">Almost Done</span>
          </md-card-title-text>
        </md-card-title>
        <div class="payment-group-container">
          <md-input-container>
            <h4>Have you volunteered with us before?</h4>
            <md-radio-group class="md-primary" ng-model="regInfo.firstTimeTeer">
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="0" aria-label="Yes">Yes, and I couldn't help but come back.</md-radio-button>
                </div>
              </div>
              <div class="row">
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value="1" aria-label="No">No, but I can't wait to start!</md-radio-button>
                </div>
              </div>
          </md-input-container>
        </div>
        <div class="payment-group-container">
          <md-input-container>
            <h4>T-Shirt Size</h4>
            <md-select class="md-primary" ng-model="regInfo.shirtSize" ng-change="hideError('#tshirtError')" placeholder="Select">
              <md-option ng-repeat="(id, label) in shirtSizes" ng-value="id" required>{{ label }}</md-option>
            </md-select>
          </md-input-container>
          <div id="tshirtError" style="display:none" class="custom-error-message">
            This field is required.
          </div>
        </div>
        <div class="payment-group-container">
          <md-input-container>
            <h4>Part 2 Registration Form</h4>
            <span class="md-subhead">Your registration isn't complete without this short <a href="media/registrationPartII.pdf" target="blank">written form</a>. Please print it out, complete it, and bring it with you on your first day!</span>
            <md-radio-group class="md-primary" ng-model="regInfo.turnedInPartTwo" ng-change="hideError('#partTwoError')">
              <div class="row" ng-repeat="(id, label) in partTwoOptions" required>
                <div flex layout='row' layout-padding layout-align="start center" >
                  <md-radio-button ng-value=id aria-label="$40">{{label}}</md-radio-button>
                </div>
              </div>
          </md-input-container>
          <div id="partTwoError" style="display:none" class="custom-error-message">
            This field is required.
          </div>
        </div>
      </md-card>
    </form>

    <div id="formButtonsContainer">
      <md-progress-linear md-mode="indeterminate" ng-show="showLoader" class="md-accent"></md-progress-linear>
      <md-button class="form-nav-button" ng-click="goToState(null, 'emergencyContacts', 0)">Back</md-button>
      <md-button class="md-primary md-raised" style="margin-top: 35px" ng-click="submit()">
        <span>Submit</span>
      </md-button>
    </div>
